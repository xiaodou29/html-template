<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTTP Request Tool</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body>
  <div class="app-container">
    <!-- 顶部导航 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <i class="fas fa-globe me-2"></i>
          HTTP Request Tool
        </a>
        <span class="navbar-text">
          <i class="fas fa-code me-1"></i>
          专业的API测试工具
        </span>
      </div>
    </nav>

    <!-- 主要内容 -->
    <div class="container-fluid py-4">
      <div class="row">
        <!-- 左侧请求面板 -->
        <div class="col-lg-8">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-gradient-primary text-white">
              <h5 class="mb-0">
                <i class="fas fa-paper-plane me-2"></i>
                发送请求
              </h5>
            </div>
            <div class="card-body">
              <form id="httpRequestForm">
                <!-- URL和方法选择 -->
                <div class="row g-3 mb-4">
                  <div class="col-md-8">
                    <div class="form-floating">
                      <input type="url" class="form-control" id="urlInput" placeholder="https://api.example.com/endpoint" required>
                      <label for="urlInput">
                        <i class="fas fa-link me-2"></i>
                        请求地址 (URL)
                      </label>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-floating">
                      <select class="form-select" id="methodSelect">
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                        <option value="PATCH">PATCH</option>
                      </select>
                      <label for="methodSelect">
                        <i class="fas fa-method me-2"></i>
                        请求方法
                      </label>
                    </div>
                  </div>
                </div>

                <!-- 请求头 -->
                <div class="mb-4">
                  <div class="d-flex align-items-center mb-3">
                    <h6 class="mb-0 me-3">
                      <i class="fas fa-heading me-2"></i>
                      请求头 (Headers)
                    </h6>
                    <button type="button" class="btn btn-outline-primary btn-sm" id="addHeader">
                      <i class="fas fa-plus me-1"></i>
                      添加请求头
                    </button>
                  </div>
                  <div id="headersContainer">
                    <div class="row g-2 mb-2">
                      <div class="col-md-5">
                        <input type="text" class="form-control header-key" placeholder="Content-Type">
                      </div>
                      <div class="col-md-5">
                        <input type="text" class="form-control header-value" placeholder="application/json">
                      </div>
                      <div class="col-md-2">
                        <button type="button" class="btn btn-outline-danger btn-sm remove-header w-100">
                          <i class="fas fa-trash me-1"></i>
                          删除
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- 请求体 -->
                <div class="mb-4" id="requestBodySection" style="display: none;">
                  <div class="d-flex align-items-center mb-3">
                    <h6 class="mb-0">
                      <i class="fas fa-file-code me-2"></i>
                      请求体 (Body)
                    </h6>
                    <span class="badge bg-info ms-2">JSON</span>
                  </div>
                  <div class="form-floating">
                    <textarea class="form-control" id="requestBody" placeholder='{"key": "value"}' style="height: 120px"></textarea>
                    <label for="requestBody">JSON 格式的请求数据</label>
                  </div>
                </div>

                <!-- 发送按钮 -->
                <div class="d-flex justify-content-between align-items-center">
                  <button type="submit" class="btn btn-primary btn-lg" id="sendRequest">
                    <span class="spinner-border spinner-border-sm me-2" id="loadingSpinner" style="display: none;"></span>
                    <i class="fas fa-paper-plane me-2"></i>
                    发送请求
                  </button>
                  <div class="text-muted small">
                    <i class="fas fa-info-circle me-1"></i>
                    支持 CORS 跨域请求
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- 右侧快速示例 -->
        <div class="col-lg-4">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-gradient-info text-white">
              <h6 class="mb-0">
                <i class="fas fa-lightbulb me-2"></i>
                快速示例
              </h6>
            </div>
            <div class="card-body">
              <div class="mb-3">
                <h6 class="text-primary">
                  <i class="fas fa-download me-2"></i>
                  GET 请求
                </h6>
                <p class="small text-muted mb-2">获取用户信息</p>
                <button class="btn btn-outline-primary btn-sm w-100 mb-2" onclick="loadExample('get')">
                  <i class="fas fa-copy me-1"></i>
                  加载示例
                </button>
              </div>
              
              <div class="mb-3">
                <h6 class="text-success">
                  <i class="fas fa-upload me-2"></i>
                  POST 请求
                </h6>
                <p class="small text-muted mb-2">创建新用户</p>
                <button class="btn btn-outline-success btn-sm w-100 mb-2" onclick="loadExample('post')">
                  <i class="fas fa-copy me-1"></i>
                  加载示例
                </button>
              </div>
              
              <div class="mb-3">
                <h6 class="text-warning">
                  <i class="fas fa-edit me-2"></i>
                  PUT 请求
                </h6>
                <p class="small text-muted mb-2">更新用户信息</p>
                <button class="btn btn-outline-warning btn-sm w-100 mb-2" onclick="loadExample('put')">
                  <i class="fas fa-copy me-1"></i>
                  加载示例
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 响应结果 -->
      <div class="row mt-4" id="responseSection" style="display: none;">
        <div class="col-12">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-gradient-success text-white">
              <h5 class="mb-0">
                <i class="fas fa-check-circle me-2"></i>
                响应结果
              </h5>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-3">
                  <div class="mb-3">
                    <label class="form-label fw-bold">
                      <i class="fas fa-hashtag me-2"></i>
                      状态码
                    </label>
                    <div class="alert mb-0" id="statusCode"></div>
                  </div>
                </div>
                <div class="col-md-9">
                  <div class="mb-3">
                    <label class="form-label fw-bold">
                      <i class="fas fa-clock me-2"></i>
                      响应时间
                    </label>
                    <div class="text-muted" id="responseTime"></div>
                  </div>
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label fw-bold">
                      <i class="fas fa-heading me-2"></i>
                      响应头
                    </label>
                    <pre class="response-pre" id="responseHeaders"></pre>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label fw-bold">
                      <i class="fas fa-file-code me-2"></i>
                      响应体
                    </label>
                    <pre class="response-pre" id="responseBody"></pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 错误信息 -->
      <div class="row mt-4" id="errorSection" style="display: none;">
        <div class="col-12">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-gradient-danger text-white">
              <h5 class="mb-0">
                <i class="fas fa-exclamation-triangle me-2"></i>
                错误信息
              </h5>
            </div>
            <div class="card-body">
              <div class="alert alert-danger mb-0" id="errorMessage"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/index.ts"></script>
</body>

</html>